### 1. select() [[42seoul/Webserv/함수/함수 정리#^f20414|함수 링크]]
- **동작 원리**:
    - `select()` 시스템 호출은 여러 파일 디스크립터(소켓 포함)의 I/O 상태를 모니터링한다.
    - 호출자는 읽기, 쓰기, 예외 상태 변화를 모니터링 할 파일 디스크립터들의 집합을 지정할 수 있다.
- **특징**:
    - 파일 디스크립터의 개수에는 한계가 있습니다 (일반적으로 1024개).
    - `select()` 호출이 반환되면, 응용 프로그램은 모든 파일 디스크립터를 스캔하여 어떤 것이 알림을 일으켰는지 확인해야 한다.
    - `select()`가 모니터링하는 파일 디스크립터 집합이 변경될 때마다, 이 집합을 다시 초기화해야 한다.
### 2. poll() [[42seoul/Webserv/함수/함수 정리#^1c9e5c|함수 링크]]
- **동작 원리**:
    - `poll()`은 `select()`와 유사하게 여러 파일 디스크립터의 I/O 상태를 모니터링하지만, 파일 디스크립터 리스트를 사용하여 관리한다.
- **특징**:
    - 파일 디스크립터의 개수에 대한 제약이 `select()`보다 덜 한다.
    - 파일 디스크립터 리스트에서 각 항목은 상태 변경을 보고하는 별도의 플래그를 가집니다, 따라서 알림 후 스캔이 더 효율적이다.
    - 구조적으로 `select()`보다 유연하다.
### 3. epoll() [[42seoul/Webserv/함수/함수 정리#^7fd271|함수 링크]]
- **동작 원리**:
    - `epoll()`은 Linux 전용 시스템 호출로, 큰 규모의 파일 디스크립터 집합을 효율적으로 모니터링할 수 있게 설계되었다.
    - 파일 디스크립터들을 "이벤트"에 등록하고, 이벤트가 발생하면 관련 정보를 반환한다.
- **특징**:    
    - 높은 성능과 확장성, 특히 많은 수의 파일 디스크립터를 관리해야 하는 경우에 유용하다.
    - 변화가 있는 파일 디스크립터만 반환하므로, 스캔 부담이 적다.
    - `epoll_create()`, `epoll_ctl()`, `epoll_wait()` 등의 시스템 호출을 통해 관리된다.
### 4. kqueue() [[42seoul/Webserv/함수/함수 정리#^056b9a|함수 링크]]
- **동작 원리**:
    - `kqueue()`는 BSD 계열 운영체제 (예: FreeBSD, macOS)에서 사용되는 이벤트 알림 메커니즘이다.
    - 파일 디스크립터, 프로세스, 시그널, 타이머 등 다양한 유형의 이벤트를 모니터링할 수 있다.
- **특징**:
    - 매우 유연하고 확장성 있는 이벤트 알림 시스템이다.
    - `kqueue()`, `kevent()` 시스템 호출을 사용하여 이벤트를 생성하고 관리한다.
    - I/O 뿐만 아니라 다양한 유형의 시스템 이벤트를 모니터링할 수 있다.
---

`kqueue`를 선택한 이유는 여러 가지가 될 수 있습니다. 이 시스템 호출이 제공하는 몇몇 특별한 장점들이 있다:
1. **다양한 이벤트 모니터링**: `kqueue`는 파일 I/O, 프로세스 상태, 시그널, 타이머 등 다양한 유형의 이벤트를 모니터링할 수 있습니다. 이러한 다양성은 복잡한 응용 프로그램을 구축할 때 유용할 수 있다.
    
2. **효율적인 이벤트 처리**: `kqueue` 시스템은 변화가 발생한 이벤트만을 알려주므로, 프로그램은 효율적으로 이벤트를 처리할 수 있습니다. 이는 큰 규모의 네트워크 서버 애플리케이션에서 특히 유용하다.
    
3. **BSD 계열 운영 체제 호환성**: `kqueue`는 BSD 계열 운영 체제(예: FreeBSD, macOS)에서 사용되므로, 이러한 운영 체제에서 작동하는 시스템을 개발하고 있다면 이는 더욱 자연스러운 선택이 된다.
    
4. **고성능**: `kqueue`는 큰 규모의 동시 연결을 관리할 수 있는 고성능 이벤트 알림 메커니즘이며, 이는 웹 서버, 데이터베이스 서버 등과 같은 고부하 시스템에서 매우 중요하다.
    
5. **개발자 커뮤니티와 리소스**: BSD 계열 운영 체제에서 `kqueue`를 사용하는 많은 개발자와 리소스가 있어, 지원과 문서화에서 이점이 있을 수 있다.
### kqueue
#### 장점
1. **다양한 이벤트 지원**: 파일 I/O, 네트워크 통신, 시그널, 타이머, 프로세스 상태 변화 등 다양한 유형의 이벤트를 한 시스템에서 모니터링 할 수 있다.
    
2. **효율적인 이벤트 핸들링**: 이벤트 필터링을 통해 특정 조건에 맞는 이벤트만 처리할 수 있으며, 이를 통해 자원을 효율적으로 사용할 수 있다.
    
3. **높은 확장성**: 큰 규모의 서버 애플리케이션에서도 높은 성능을 유지할 수 있다.
#### 단점
1. **플랫폼 한정**: BSD 계열의 운영체제에서만 사용 가능합니다. 이는 운영체제에 따라 선택할 수 있는 옵션을 제한할 수 있다.
### select
#### 장점
1. **간단함**: 구현이 비교적 간단하며, 많은 플랫폼에서 지원된다.
    
2. **플랫폼 호환성**: 다양한 운영체제에서 지원되므로, 크로스 플랫폼 애플리케이션에서 유용할 수 있다.
#### 단점
1. **FD 제한**: 파일 디스크립터의 개수에 제한이 있어, 큰 규모의 애플리케이션에서는 병목 현상이 발생할 수 있다.
    
2. **비효율적 스캔**: 모든 파일 디스크립터를 스캔해야 하는 구조상의 비효율성이 있다.
### poll
#### 장점
1. **FD 제한 해소**: `select`의 파일 디스크립터 제한 문제를 해결하였다.
    
2. **동적 구조**: 파일 디스크립터 목록을 동적으로 관리할 수 있어, 런타임에서의 변경이 더 용이하다.
#### 단점
1. **비효율적 스캔**: 여전히 모든 파일 디스크립터를 스캔하는 비효율적인 접근 방식을 가지고 있다.
### epoll
#### 장점
1. **높은 확장성**: 많은 수의 파일 디스크립터를 효율적으로 처리할 수 있는 구조를 제공한다.
    
2. **이벤트 기반 알림**: 변화가 감지된 파일 디스크립터만 반환하므로, 스캔 과정에서의 부담이 적다.
#### 단점
1. **리눅스 한정**: 리눅스 운영체제에서만 사용 가능하며, 다른 플랫폼에서는 사용할 수 없다.

>종합적으로 볼 때, kqueue 는 다양한 이벤트 모니터링 기능과 높은 확장성을 제공하는 강력한 툴로 보인다. 그러나 플랫퐁 제한 때문에, 해당 플랫폼에서만 작동하는 시스템을 개발하는 경우에만 이 선택이 이상적이다.
---
### 연결 노트
- [[42seoul/Webserv/event|event]]